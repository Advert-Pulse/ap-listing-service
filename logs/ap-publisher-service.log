{"@timestamp":"2025-06-03T00:00:00.071618+05:30","@version":"1","message":"One hour scheduled task ran at Tue Jun 03 00:00:00 IST 2025","logger_name":"com.ap.listing.scheduler.GlobalScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:00.293903+05:30","@version":"1","message":"Found 1 schedulers","logger_name":"com.ap.listing.scheduler.service.OneHourScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:00.329153+05:30","@version":"1","message":"FetchWebsiteDataSchedulerProcessor >> Scheduler(schedulerId=45f9afb2-dc6f-4395-94b4-ec8c855d053e, primaryId=45c2d369-fe1b-4042-a823-a98f17302888, isSchedulingDone=false, scheduledTaskType=FETCH_WEBSITE_DATA, scheduleCompletedOn=null, createdOn=2025-06-02 09:25:41.606, updatedOn=2025-06-02 09:25:41.606, timesUsed=0)","logger_name":"com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor","thread_name":"scheduling-1","level":"INFO","level_value":20000,"schedulerId":"45f9afb2-dc6f-4395-94b4-ec8c855d053e","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:01.924792+05:30","@version":"1","message":"Feign Interceptor GET /domain-metrics/flutter.dev/ HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:01.926491+05:30","@version":"1","message":"Feign Interceptor GET /analyticsv1?url=flutter.dev HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-4","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:01.926757+05:30","@version":"1","message":"Feign Interceptor GET /backlinks?url=flutter.dev HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-2","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:01.926818+05:30","@version":"1","message":"Feign Interceptor GET /traffic?url=flutter.dev HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-3","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:02.699615+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getBacklinkResponse(String), status=429 TOO_MANY_REQUESTS, body={\"message\":\"Too many requests\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-2","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:03.278982+05:30","@version":"1","message":"Feign client error: method=DomainMetricsFeignClient#getDomainMetrics(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-1","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:03.298697+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getWebsiteTraffic(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-3","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:03.479435+05:30","@version":"1","message":"Feign client error: method=SimilarWebFeignClient#getWebsiteTraffic(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-4","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:03.480054+05:30","@version":"1","message":"Exception Caused in Async Utils : Forbidden","logger_name":"com.ap.listing.utils.AsyncUtils","thread_name":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"com.ap.listing.exception.FeignClientException: Forbidden\n\tat com.ap.listing.exception.FeignErrorDecoder.decode(FeignErrorDecoder.java:77)\n\tat feign.InvocationContext.decodeError(InvocationContext.java:133)\n\tat feign.InvocationContext.proceed(InvocationContext.java:80)\n\tat feign.ResponseHandler.handleResponse(ResponseHandler.java:69)\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:109)\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:53)\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:104)\n\tat jdk.proxy2/jdk.proxy2.$Proxy203.getDomainMetrics(Unknown Source)\n\tat com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor.lambda$process$0(FetchWebsiteDataSchedulerProcessor.java:97)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)\n","schedulerId":"45f9afb2-dc6f-4395-94b4-ec8c855d053e","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:00:03.538117+05:30","@version":"1","message":"Unexpected error occurred in scheduled task","logger_name":"org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler","thread_name":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"com.ap.listing.exception.BadRequestException: Internal error occurred in ap-listing-service\n\tat com.ap.listing.utils.AsyncUtils.handleException(AsyncUtils.java:67)\n\tat com.ap.listing.utils.AsyncUtils.getAsyncResult(AsyncUtils.java:58)\n\tat com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor.process(FetchWebsiteDataSchedulerProcessor.java:101)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor$$SpringCGLIB$$0.process(<generated>)\n\tat com.ap.listing.scheduler.service.OneHourScheduler.doProcess(OneHourScheduler.java:68)\n\tat com.ap.listing.scheduler.GlobalScheduler.taskEveryOneHour(GlobalScheduler.java:62)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\n\tat io.micrometer.observation.Observation.observe(Observation.java:498)\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\n\tat org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85)\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:57:25.755905+05:30","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:57:25.758825+05:30","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:57:25.772674+05:30","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:57:25.775178+05:30","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-06-03T00:57:25.776558+05:30","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
