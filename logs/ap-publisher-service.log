{"@timestamp":"2025-07-06T00:00:00.04339+05:30","@version":"1","message":"One hour scheduled task ran at Sun Jul 06 00:00:00 IST 2025","logger_name":"com.ap.listing.scheduler.GlobalScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.22201+05:30","@version":"1","message":"Found 3 schedulers","logger_name":"com.ap.listing.scheduler.service.OneHourScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.254134+05:30","@version":"1","message":"FetchWebsiteDataSchedulerProcessor >> Scheduler(schedulerId=05e6b8a7-6a62-4c59-a5ec-eee82d5519a9, primaryId=878cb882-2a9e-426f-81e4-6418702f51a0, isSchedulingDone=false, scheduledTaskType=FETCH_WEBSITE_DATA, scheduleCompletedOn=null, createdOn=2025-07-05 08:20:44.61, updatedOn=2025-07-05 08:20:44.61, timesUsed=0)","logger_name":"com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor","thread_name":"scheduling-1","level":"INFO","level_value":20000,"schedulerId":"05e6b8a7-6a62-4c59-a5ec-eee82d5519a9","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.447062+05:30","@version":"1","message":"Feign Interceptor GET /domain-metrics/timesofindia.com/ HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.44755+05:30","@version":"1","message":"Feign Interceptor GET /backlinks?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-2","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.447551+05:30","@version":"1","message":"Feign Interceptor GET /traffic?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-3","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:00.447554+05:30","@version":"1","message":"Feign Interceptor GET /analyticsv1?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-4","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:02.299638+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getWebsiteTraffic(String), status=429 TOO_MANY_REQUESTS, body={\"message\":\"Too many requests\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-3","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:02.85686+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getBacklinkResponse(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-2","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:02.87432+05:30","@version":"1","message":"Feign client error: method=DomainMetricsFeignClient#getDomainMetrics(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-1","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:02.934529+05:30","@version":"1","message":"Unexpected error occurred in scheduled task","logger_name":"org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler","thread_name":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"java.util.concurrent.CompletionException: BaseException(errorData=FEIGN_FORBIDDEN, message=Forbidden, field=null, errorCode=AP__ERROR--3022, cause=null, localizedMessage={\"message\":\"You are not subscribed to this API.\"}, className=FeignClientException, httpStatus=403 FORBIDDEN)\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)\nCaused by: com.ap.listing.exception.FeignClientException: Forbidden\n\tat com.ap.listing.exception.FeignErrorDecoder.decode(FeignErrorDecoder.java:77)\n\tat feign.InvocationContext.decodeError(InvocationContext.java:133)\n\tat feign.InvocationContext.proceed(InvocationContext.java:80)\n\tat feign.ResponseHandler.handleResponse(ResponseHandler.java:69)\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:109)\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:53)\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:104)\n\tat jdk.proxy2/jdk.proxy2.$Proxy204.getDomainMetrics(Unknown Source)\n\tat com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor.lambda$process$0(FetchWebsiteDataSchedulerProcessor.java:97)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n\t... 6 common frames omitted\n","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:00:03.075808+05:30","@version":"1","message":"Feign client error: method=SimilarWebFeignClient#getWebsiteTraffic(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-4","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:52:03.182596+05:30","@version":"1","message":"Two hour scheduled task ran at Sun Jul 06 00:52:03 IST 2025","logger_name":"com.ap.listing.scheduler.GlobalScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:52:03.355953+05:30","@version":"1","message":"Found 0 schedulers for Approve Publisher","logger_name":"com.ap.listing.scheduler.service.WebsitePublisherScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T00:52:03.356106+05:30","@version":"1","message":"Two Hour Scheduler took 174 ms","logger_name":"com.ap.listing.scheduler.GlobalScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.050288+05:30","@version":"1","message":"One hour scheduled task ran at Sun Jul 06 01:00:00 IST 2025","logger_name":"com.ap.listing.scheduler.GlobalScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.225445+05:30","@version":"1","message":"Found 3 schedulers","logger_name":"com.ap.listing.scheduler.service.OneHourScheduler","thread_name":"scheduling-1","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.227428+05:30","@version":"1","message":"FetchWebsiteDataSchedulerProcessor >> Scheduler(schedulerId=05e6b8a7-6a62-4c59-a5ec-eee82d5519a9, primaryId=878cb882-2a9e-426f-81e4-6418702f51a0, isSchedulingDone=false, scheduledTaskType=FETCH_WEBSITE_DATA, scheduleCompletedOn=null, createdOn=2025-07-05 08:20:44.61, updatedOn=2025-07-05 08:20:44.61, timesUsed=0)","logger_name":"com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor","thread_name":"scheduling-1","level":"INFO","level_value":20000,"schedulerId":"05e6b8a7-6a62-4c59-a5ec-eee82d5519a9","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.407873+05:30","@version":"1","message":"Feign Interceptor GET /domain-metrics/timesofindia.com/ HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-5","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.407957+05:30","@version":"1","message":"Feign Interceptor GET /traffic?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-7","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.408003+05:30","@version":"1","message":"Feign Interceptor GET /backlinks?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-6","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.408454+05:30","@version":"1","message":"Feign Interceptor GET /analyticsv1?url=timesofindia.com HTTP/1.1\n\nBinary data","logger_name":"com.ap.listing.configuration.FeignInterceptors","thread_name":"ForkJoinPool.commonPool-worker-8","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:00.936198+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getWebsiteTraffic(String), status=429 TOO_MANY_REQUESTS, body={\"message\":\"Too many requests\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-7","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:01.512789+05:30","@version":"1","message":"Feign client error: method=DomainMetricsFeignClient#getDomainMetrics(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-5","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:01.519137+05:30","@version":"1","message":"Feign client error: method=AhrefFeignClient#getBacklinkResponse(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-6","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:01.558605+05:30","@version":"1","message":"Feign client error: method=SimilarWebFeignClient#getWebsiteTraffic(String), status=403 FORBIDDEN, body={\"message\":\"You are not subscribed to this API.\"}","logger_name":"com.ap.listing.exception.FeignErrorDecoder","thread_name":"ForkJoinPool.commonPool-worker-8","level":"ERROR","level_value":40000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:00:01.559452+05:30","@version":"1","message":"Unexpected error occurred in scheduled task","logger_name":"org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler","thread_name":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"java.util.concurrent.CompletionException: BaseException(errorData=FEIGN_FORBIDDEN, message=Forbidden, field=null, errorCode=AP__ERROR--3022, cause=null, localizedMessage={\"message\":\"You are not subscribed to this API.\"}, className=FeignClientException, httpStatus=403 FORBIDDEN)\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)\nCaused by: com.ap.listing.exception.FeignClientException: Forbidden\n\tat com.ap.listing.exception.FeignErrorDecoder.decode(FeignErrorDecoder.java:77)\n\tat feign.InvocationContext.decodeError(InvocationContext.java:133)\n\tat feign.InvocationContext.proceed(InvocationContext.java:80)\n\tat feign.ResponseHandler.handleResponse(ResponseHandler.java:69)\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:109)\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:53)\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:104)\n\tat jdk.proxy2/jdk.proxy2.$Proxy204.getDomainMetrics(Unknown Source)\n\tat com.ap.listing.scheduler.processor.FetchWebsiteDataSchedulerProcessor.lambda$process$0(FetchWebsiteDataSchedulerProcessor.java:97)\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n\t... 6 common frames omitted\n","applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:04:53.494338+05:30","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:04:53.497162+05:30","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:04:53.508476+05:30","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:04:53.510256+05:30","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
{"@timestamp":"2025-07-06T01:04:53.511801+05:30","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000,"applicationName":"ap-listing-service","environment":"local"}
